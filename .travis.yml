language: node_js
node_js:
- node
env:
  global:
  - SFTP_USER="travis-ci@andytonini.com"
  - SFTP_PASSWORD=[password]
  - secure: mobRkuoPUgFjBumxdAfIMb96n0DiqonsUKfKlPgZrwYssNzsaZiL+/tw+cwoMn0nO+2QkVBoagKy77VTQR9mutlK1FX3bk8bZblzdBlG0nFIPCbpjr+RCd4cj2LP64VPAWFiTVPE6Sonnkk9u5rNre9Ef4f9loFnntRnd5tg1ZYcL6C8JgZXQxBWd/nGwoWHj/hEsXf+5O/IihoDyrK1bB96R+4JZW4M6/uDVNH4Oo3llXcnlGgLJCWpMgRiiCVbVwU/TMFCgCq1GOrBUMJoG/LACtTIU5nfUcaNEvry/JgWO4oEBuZokAizc3VKlYryZlVni8R0aUPLsy+jvBNpAY4iV1XMbpw/GByZ5EqXDxJUjxPRhGkbFPDstvIiSbsDdQ0LnH5vvAwgRUbpDtaSvfBpEmL+kNPSfZJiapfqBn41nofXXS+By45q73QKf33kyaouWoeHHDT9DmX1DD23gnC6MeRzka7o8S3kyAOuu4I3cptMMm+WsUIooE2lZRqDZ9pVDXUx3rkY+LyHTwRUL7M5qvUXWfP6K+zQP4yVdfqlo6sjGxIIiBkbX0X6oY5kdeBMX8x6WDSqGJ1EG1Jk8wwHLJAock9It+UC+Zv/TcV9oSpSrdmPAziGEPqgWoOSemdt49CCDQxeGC36riJGe0CaIchUcVHoYiFiJpHd3eY=
script:
- yarn test
- yarn run build
deploy:
  provider: openshift
  user:
    secure: "DSxdpHvrhIU/Dqo+EQFm8fd3NkASuaalAWq6vnE8JDSlUjqke1/BiednSG0BcSu2fLAY6vYn4pKiiXR3ukC/KyEDglsn6NshjUnN9o8ZP82qT4l1Kavhc/KuBYFwYggp5EE9U7SKtL/RT7zWDufpJX0IYgY6/kd7J9RPb1I4/na/cptE7XPUJSP09ls3sglPnClO61+p3us2wIhYSrmXYwxBM8biNmVORMzAuDw6dWmnOI0kq6l8hYjMMQpxUAcyPnAKHOGs2YWTKvtajB1ladX90r7NuyTTmaorMqk96X/9jhce2Osp82p9kgf9N5oA/2jXPZD3qgM3aLrIWVn6oB2jxvxJwAE6lbGmS/fgh5Uswrjovveg1ZrjOuHLpKVHt7BKv3NgRV9+SsbZjb/7mQ4ZZaPoY9FxRy76F3fO8PNniHbwasriWyOjm8+byXTmNsr27jkpZG/eT/K1USUmN9KBOKbjxuVEmThFOQq+JnOzJzRVebx1nNlL6vsIDgbwynJXgvPO8Z/l/zIgjvqtiK3x26FJ44n77DIgxk2CcCQ80ZTw2kec+whxJdcsfQcI5VIy3GFzQx/B7NjMMe0R6+LZK0EZH0t07wUZivFl5dJkckyHYwEmsbNjDknh075lxvXy2N5rDBhmJpBPasBiOGMKOwTSVec9GPwPtXkIjFA="
  password:
    secure: "UoZtGetal7UN+LGMVbuI5TdvUqlrFRHzElkvRdCWv+3OgguwYMEUdGoS+gXdou3+t1y9MtUhGVzYNMp/P70z99+1kUC/IZZCOnCajS1pjueG5RV/OF58txpBngUBpRgLxfXRQzEb2XS6U0hE5fviwJdgb9e236ymRcex9iZlZjHfWAEHJoJXRIgeLg3ackWD4p4Syp1VEKb481FsuZEQx0worcNMcGFY9Lx8jraoget/i6ntOA5v+x2EEUoXe+7kAS7aJFqBtGDUlpVQh3vm5CUNDJC+jq1xOQCwOvFxKZNilqlgWjAuApTYtq57ZPBZnIVdJQ0YKB+7gsmqooJFP6QA3g3N5PwFvo0hGvrEY6fEWPWqJlAiMxpCiT2smI6n0fq7/uEd5HyYqFFiTNk8XSawPvYlb2JLR1NsjLYYe/MoLh6cbUqo8tLiWOWmTBYeinIJ89varBan1mtLk/pb197RFreXjg11quSk74JfBnvdJW8P2j62RIxT4/vnkMkXrktFLo4gkPmEiyNcbjcrym1MAPinh87V9cLvYOepd4ZjGu1zbIWVKHVVBq51oNduXsf4u0zheom2jS1zmIThrXKEzq9pY+YU5tJeiltWRfLAGgRkfz3LZg5pVJ0w4+/Fuzi6VCDQ47cn3Vbbb5s8tM4YH63FWT8xy0mA9OrKp48="
  domain:
    secure: "cIJuA0T+KFKQQxLAmFsi6yOkXFvVpD+RWicktZ2tTVUNOalvygEEYunvX33xBZPsJWB/OSe05k7nGeYI9kyyniAq42h1AXxFBFLbWT7RMWu+HGvHvHIzRb+UGU1lozIAF7pozlhnKWSv9QVmVFYWkPuTEUXBb3ZVH0zoykLtod+zREt+s9YmoUZ15gySkhOL9aD+69Ttmk+VqKIhnG9Atr6RPIsoJldUMdx8jKpqeExkr/DQ6qRZldYt3gIHPIHX0D8gIkKAfK/qeEiKqrpNoVeLifYzrQFzKeZs9vaD1HX7Yx9w8LdC71sSYRlEYL7eCxt7vKjEzGoNad0833U8/8wVo8CE4pYXLD+tZyEtB/qYMtuOs79HRU4uoMmfkYWvKxRZMQlUA+xLneo9MdFv+oV/nTUUDQz7usHhu8GGtTAxVAhfDn9cCnZporFcmo9WPcsGhj6oy5/7wPApVzZ+zF28Mtu3TKp2nJdhkzFaHDSJwF0IWHMF8eO/CWFItpMAVhE30oYXspzx2lUxrlxsFex/dYzLiINcf6bm3GFa6KKTahMAaZiH2aIawLfLfW9fZWQlb3A59fXK7mmHy/qfnSiJbd7IsfVffp6yjjSEWh1Gx+dsAF2h3AE9+zhkGUi3O6h2P/4OlRTiF3bKghzwVaPqqS496OHqkugvMJkKsyE="
  skip_cleanup: true
  app:
    ci-setup: tognox-frontend
